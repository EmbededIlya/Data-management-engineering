# Data-management-engineering
–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –∫–æ–¥, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
https://drive.google.com/drive/folders/1glbcohv_ux-CrY66wIumaUGMqwwz6b5_?usp=sharing

–í –¥–∞–Ω–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–ø–∫–∏:
- api_example: –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è api
- data: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ parquet
- screenshots: —Å–Ω–∏–º–∫–º —ç–∫—Ä–∞–Ω–∞ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã–º –∑–∞–¥–∞–Ω–∏–µ–º

–°—Å—ã–ª–∫–∞ –Ω–∞ readme c –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∑–∞–¥–∞–Ω–∏–π: https://github.com/EmbededIlya/Data-management-engineering/blob/main/Screenshots/README.md


## –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞

### ETL Package (`etl/`)
- **creds.loader.py** - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **extract.py** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **transform.py** - –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **load.py** - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ü–µ–ª–µ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
- **main.py** - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç ETL –ø—Ä–æ—Ü–µ—Å—Å–∞

### Data Analysis (`notebook/`)
- **EDA.ipynb** - –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- **EDA_dynamics.html** - HTML —ç–∫—Å–ø–æ—Ä—Ç –∞–Ω–∞–ª–∏–∑–∞

### Data Parsing (`parsing/`)
- **parsing.py** - –ú–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö
- **README.md** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞

### API Examples (`src/my_project/api_example/`)
- **api_bn.py** - –†–∞–±–æ—Ç–∞ —Å API (–æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å)
- **api_example.py** - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### Project Configuration
- **pyproject.toml** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Poetry
- **poetry.lock** - –§–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **.env** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **users.db** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite

## Installation

``bash
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Poetry
poetry install

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
poetry shell

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä:

[C—Å—ã–ª–∫–∞ nbviewer](https://nbviewer.org/github/EmbededIlya/Data-management-engineering/blob/main/notebook/EDA.ipynb)

–¢–∞–∫ –∫–∞–∫ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ plotly –∏–º–µ–µ—Ç –≤ —Å–µ–±–µ —ç–ª–µ–º–µ–Ω—Ç—ã JavaScript, —Ç–æ Github –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≥—Ä–∞—Ñ–∏–∫–∏. –°–¥–µ–ª–∞–Ω–æ —ç—Ç–æ –≤ —Ü–µ–ª—è—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
–ü–æ—ç—Ç–æ–º—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –±—ã–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ:
https://github.com/EmbededIlya/Data-management-engineering/blob/main/notebook/EDA_dynamics.html

# ENABLE ETL SCRIPT

NOTE: ‚ñ≤ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `api_example` —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å API. –≠—Ç–æ —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —ç—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞. –û—Å–Ω–æ–≤–Ω–æ–π ETL —Å–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ **etl** —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **Screenshots/** - –°–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞:
  - Parsing.png
  - –ù–æ–≤–æ–µ_–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ_–æ–∫—Ä—É–∂–µ–Ω–∏–µ.png
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ_—Ä–∞–±–æ—Ç—ã_–≤—ã–≤–æ–¥_—Ç–∏–ø–æ–≤_N^3.png
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ_—Ä–∞–±–æ—Ç—ã_N^2.png
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ_—Ä–∞–±–æ—Ç—ã_N^3.png
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ_—Ä–∞–±–æ—Ç—ã_N^4.png
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ_—Ä–∞–±–æ—Ç—ã_N^6.png
  - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ_parsing.png

- **api_example/** - –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å API –¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π:
  - README.md - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API –ø—Ä–∏–º–µ—Ä–∞–º
  - api_bn.py - –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å API
  - api_example.py - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

- **etl/** - –û—Å–Ω–æ–≤–Ω–æ–π ETL —Å–∫—Ä–∏–ø—Ç:
  - creds.loader.py - –ó–∞–≥—Ä—É–∑—á–∏–∫ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - extract.py - –≠—Ç–æ—Ç –±–ª–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø–∏—Å—å *.csv —Ñ–∞–π–ª–æ–≤
  - transform.py - –≠—Ç–æ—Ç –±–ª–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
  - load.py - –≠—Ç–æ—Ç –±–ª–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø–∏—Å—å *.parquet —Ñ–∞–π–ª–æ–≤
  - main.py - –ì–ª–∞–≤–Ω—ã–π –±–ª–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ß—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É —Å–∫—Ä–∏–ø—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
python3 etl/main.py --help
1) –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø—Ä–∞–≤–∫–∏

    –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º:
    python main.py --help

    –í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
    ext ‚Äî —Ç–æ–ª—å–∫–æ —Å–∫–∞—á–∞—Ç—å —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ.
    all ‚Äî —Å–∫–∞—á–∞—Ç—å, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –±–∞–∑—É.
    –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ (RAW_DATA.csv –∏ PROCESSED_DATA.parquet).

2) –°–∫–∞—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Extract)
    –ö–æ–º–∞–Ω–¥–∞:
    python main.py ext <FILE_ID>
    –ì–¥–µ:
    <FILE_ID> ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞ –Ω–∞ Google Drive. 
    –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ RAW_DATA.csv –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ - —Å–∫—Ä–∏–ø—Ç —Ç–æ–ª—å–∫–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –±–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É.

    –ü—Ä–∏–º–µ—Ä:
    python main.py ext 1REx1HpbXT_duA4L3jfu45RG6xynAbP1p
    –í—ã–≤–æ–¥:
    Only extracting started
    Extraction finished successfully

3) –ü–æ–ª–Ω—ã–π ETL –∏ –∑–∞–ø–∏—Å—å –≤ –±–∞–∑—É (All)
    –ö–æ–º–∞–Ω–¥–∞:
    python main.py all <FILE_ID> <DB_CHOICE>

    –ì–¥–µ:
    <FILE_ID> ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞ Google Drive.
    <DB_CHOICE> ‚Äî test –∏–ª–∏ orig (–≤—ã–±–æ—Ä —Å—Ö–µ–º—ã/–±–∞–∑—ã).

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞:
    –ü—Ä–æ–≤–æ–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ Extract –∏ Transform, –∞ —Å–ª–µ–¥—É—é—â–µ–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç Load: –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–µ 100 —Å—Ç—Ä–æ–∫ (df.head(100)) –≤ —Ç–∞–±–ª–∏—Ü—É timofeev –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –±–∞–∑–µ PostgreSQL, –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á id.

    –í—ã–≤–æ–¥:
    All stages of data transformation started. Make sure virtual env and dependencies are set up.
    Processed data saved as PROCESSED_DATA.parquet
    Everything has been written to the database.